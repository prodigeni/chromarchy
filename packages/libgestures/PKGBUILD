# Maintainer: Thomas Sowell <tom@fancydriving.org>

buildarch=1

pkgname=libgestures
pkgdesc="Chromium OS gestures library"
pkgver=R25.3428
pkgrel=1
arch=('any')
url="http://git.chromium.org/gitweb/?p=chromiumos/platform/gestures.git;a=summary"
license=('custom:chromiumos')
_gitname='gestures'
depends=('google-gflags' 'inputproto' 'xorg-xinput')
makedepends=('git')

source=(libgestures-cxxflags.patch
        "$_gitname::git+http://git.chromium.org/git/chromiumos/platform/gestures.git#branch=release-R25-3428.B")

md5sums=('5f5d1ae5139d93ab35fc525aa5507e51'
         'SKIP')

prepare() {
  cd "$srcdir/$_gitname"
  git apply ${srcdir}/libgestures-cxxflags.patch
}

build() {
  cd "$srcdir/$_gitname"

  make
}

package() {
  make -C "$srcdir/$_gitname" DESTDIR="${pkgdir}" install
  rm -fr ${pkgdir}/etc

  install -m 644 -D ${srcdir}/${_gitname}/LICENSE ${pkgdir}/usr/share/license/${pkgname}/LICENSE
}
